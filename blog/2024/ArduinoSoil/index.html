<!DOCTYPE html> <html> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title> Arduino soil monitor dashboard and email watering reminder in Labview | Christopher Earle </title> <meta name="author" content="Christopher Earle "> <meta name="description" content="It's Labview"> <meta name="keywords" content="jekyll, jekyll-theme, academic-website, portfolio-website"> <link rel="stylesheet" href="/assets/css/bootstrap.min.css?a4b3f509e79c54a512b890d73235ef04"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="https://unpkg.com/bootstrap-table@1.22.1/dist/bootstrap-table.min.css"> <link rel="stylesheet" href="/assets/css/academicons.min.css?f0b7046b84e425c55f3463ac249818f5"> <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons"> <link rel="stylesheet" href="/assets/css/jekyll-pygments-themes-github.css?591dab5a4e56573bf4ef7fd332894c99" media="" id="highlight_theme_light"> <link rel="shortcut icon" href="data:image/svg+xml,&lt;svg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20100%20100%22&gt;&lt;text%20y=%22.9em%22%20font-size=%2290%22&gt;%E2%9A%9B%EF%B8%8F&lt;/text&gt;&lt;/svg&gt;"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="EOC-dev.github.io/blog/2024/ArduinoSoil/"> <link rel="stylesheet" href="/assets/css/jekyll-pygments-themes-native.css?5847e5ed4a4568527aa6cfab446049ca" media="none" id="highlight_theme_dark"> <script src="/assets/js/theme.js?bf50d6d9dd867d3e0f3b0add94449649"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.0.8/dist/medium-zoom.min.js" integrity="sha256-7PhEpEWEW0XXQ0k6kQrPKwuoIomz8R8IYyuU1Qew4P8=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js?85ddb88934d28b74e78031fd54cf8308"></script> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams"}};</script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js"></script> <script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script src="/assets/js/distillpub/template.v2.js"></script> <script src="/assets/js/distillpub/transforms.v2.js"></script> <script src="/assets/js/distillpub/overrides.js"></script> </head> <body> <d-front-matter> <script async type="text/json">
      {
            "title": "Arduino soil monitor dashboard and email watering reminder in Labview",
            "description": "It's Labview",
            "published": "January 20, 2024",
            "authors": [
              
            ],
            "katex": {
              "delimiters": [
                {
                  "left": "$",
                  "right": "$",
                  "display": false
                },
                {
                  "left": "$$",
                  "right": "$$",
                  "display": true
                }
              ]
            }
          }
    </script> </d-front-matter> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top" role="navigation"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"> <span class="font-weight-bold">Christopher </span> Earle  </a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">about </a> </li> <li class="nav-item "> <a class="nav-link" href="/blog/">blog </a> </li> <li class="nav-item "> <a class="nav-link" href="/repositories/">repositories </a> </li> <li class="nav-item "> <a class="nav-link" href="/cv/">cv </a> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="fa-solid fa-moon"></i> <i class="fa-solid fa-sun"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="post distill"> <d-title> <h1>Arduino soil monitor dashboard and email watering reminder in Labview</h1> <p>It's Labview</p> </d-title> <d-article> <p>For my Electronic Instrumentation undergrad class we were required to do a project. We were given free reign on what the project could be, as long as it was labview related. I had long wanted to do some kind of sensor project using an Arduino, and I wondered: “Could the arduino be interfaced with and controlled by Labview?” The answer may shock you.</p> <h2 id="the-plan">The Plan</h2> <p>The plan for this project was to use labview to create a dashboard that would show a visual indicator when the plant needed watering, as well as send some kind of notification to the user reminding them to water their plant.</p> <h2 id="hardware-setup">Hardware Setup</h2> <p>The hardware for this project was pretty simple</p> <table> <thead> <tr> <th>Hardware</th> <th style="text-align: center">We Used</th> </tr> </thead> <tbody> <tr> <td>Microcontroller</td> <td style="text-align: center">Arduino UNO R3</td> </tr> <tr> <td>Soil moisture sensor</td> <td style="text-align: center">Capacitative based module</td> </tr> <tr> <td>Plants</td> <td style="text-align: center">Mint (1x)</td> </tr> </tbody> </table> <p>The soil sensor was connected to the arduino, and the arduino to a laptop via a USB cable.</p> <h2 id="software-setup-and-code-walkthrough">Software Setup and code walkthrough</h2> <p>After the hardware was setup, labview was setup to communicate with arduino and take in its sensor readings – a setup guide for which is provided on the <a href="https://github.com/EOC-dev/LabviewArduinoSoilMonitor" rel="external nofollow noopener" target="_blank">github</a> page for this project. This project made use fo the <a href="">Labview LINX addon</a>, which essentially turned the Arduino into a DAQ.</p> <p>Below is the Dashboard of the completed project – split into two parts: The first contains all the main controls of the program, and the second shows the current state machine the program is in as well as sensor output data for troubleshooting purposes:</p> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/ArduinoSoil/Dash1-480.webp 480w,/assets/img/ArduinoSoil/Dash1-800.webp 800w,/assets/img/ArduinoSoil/Dash1-1400.webp 1400w," sizes="95vw" type="image/webp"></source> <img src="/assets/img/ArduinoSoil/Dash1.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/ArduinoSoil/Dash2-480.webp 480w,/assets/img/ArduinoSoil/Dash2-800.webp 800w,/assets/img/ArduinoSoil/Dash2-1400.webp 1400w," sizes="95vw" type="image/webp"></source> <img src="/assets/img/ArduinoSoil/Dash2.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <p>The code utilizes <a href="https://www.ni.com/en/support/documentation/supplemental/16/simple-state-machine-template-documentation.html" rel="external nofollow noopener" target="_blank">state machines</a> to control the flow of the program depending on the detected soil moisture level as well as user input. The state machine has four cases:</p> <ul> <li>Read Value (Default)</li> </ul> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/ArduinoSoil/State1-480.webp 480w,/assets/img/ArduinoSoil/State1-800.webp 800w,/assets/img/ArduinoSoil/State1-1400.webp 1400w," sizes="95vw" type="image/webp"></source> <img src="/assets/img/ArduinoSoil/State1.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <p>This is the state the program will start in, and will use the obtained sensor values to determine whether to loop within this case or progress to the “Send Reminder” case.</p> <ul> <li>Send Reminder</li> </ul> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/ArduinoSoil/State2-480.webp 480w,/assets/img/ArduinoSoil/State2-800.webp 800w,/assets/img/ArduinoSoil/State2-1400.webp 1400w," sizes="95vw" type="image/webp"></source> <img src="/assets/img/ArduinoSoil/State2.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <p>This state uses the “Send Email” expressVi to send an email to the designated user telling them their plant needs to be watered. Depending on whether the user pressed the “Send additional reminders” button, it will either enter the “Reminder Timer” case, or the “Button fallback” case.</p> <ul> <li>Reminder Timer</li> <li> </li> </ul> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/ArduinoSoil/State3-480.webp 480w,/assets/img/ArduinoSoil/State3-800.webp 800w,/assets/img/ArduinoSoil/State3-1400.webp 1400w," sizes="95vw" type="image/webp"></source> <img src="/assets/img/ArduinoSoil/State3.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <p>This state uses the “Elapsed time” expressVI, and subtracts from it the user defined Duration to determine the remaining time before moving forward. The Duration is entered in hours and Minutes, and needs to first be converted to seconds before being subtracted. The “remaining time” value is then used to determine whether to go to the “Send Reminder” case or stay in the present one. Theres also a failsafe to ensure that, if the moisture level falls below the threshold (i.e if the user waters the plant in this state), it will return to the “Read Value” case.</p> <ul> <li>Button Fallback</li> </ul> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/ArduinoSoil/State4-480.webp 480w,/assets/img/ArduinoSoil/State4-800.webp 800w,/assets/img/ArduinoSoil/State4-1400.webp 1400w," sizes="95vw" type="image/webp"></source> <img src="/assets/img/ArduinoSoil/State4.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <p>This existed purely to deal with the scenario where the user does not select “Send additional email reminders.” It will stay in this case until either the moisture level falls below the threshold or the user presses the button while in this case.</p> <p>Besides the 4 main cases of the state machine, the outer shell mainly consists of routing the relevant signals to the labview i/o and making sure the signals were reserved through successive loops.</p> <p>Finally, here is a picture of the code successfully sending an email to a user:</p> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <video src="/assets/video/Fuzzy-Logic%20speed%20controller/FuzzyLogic_FinalProject_Test2-(720p30).mp4" class="img-fluid rounded z-depth-1" width="auto" height="auto" controls=""></video> </figure> </div> </div> <div class="caption"> Pretty cool, huh? </div> <h2 id="what-could-be-improved">What could be improved?</h2> <ol> <li>Labview sadly has many limitations that make doing an IOT project with it very difficult. This was mainly a proof of concept, but if it seriously wanted to be taken further there would need to be some way to communicate wirelessly with the Arduino/sensor.</li> </ol> </d-article> <d-appendix> <d-footnote-list></d-footnote-list> <d-citation-list></d-citation-list> </d-appendix> <d-bibliography src="/assets/bibliography/"></d-bibliography> </div> <footer class="fixed-bottom" role="contentinfo"> <div class="container mt-0"> © Copyright 2024 Christopher Earle . Powered by <a href="https://jekyllrb.com/" target="_blank" rel="external nofollow noopener">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio" rel="external nofollow noopener" target="_blank">al-folio</a> theme. Hosted by <a href="https://pages.github.com/" target="_blank" rel="external nofollow noopener">GitHub Pages</a>. Thank you for reading! </div> </footer> <script src="/assets/js/bootstrap.bundle.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script type="text/javascript">function progressBarSetup(){"max"in document.createElement("progress")?(initializeProgressElement(),$(document).on("scroll",function(){progressBar.attr({value:getCurrentScrollPosition()})}),$(window).on("resize",initializeProgressElement)):(resizeProgressBar(),$(document).on("scroll",resizeProgressBar),$(window).on("resize",resizeProgressBar))}function getCurrentScrollPosition(){return $(window).scrollTop()}function initializeProgressElement(){let e=$("#navbar").outerHeight(!0);$("body").css({"padding-top":e}),$("progress-container").css({"padding-top":e}),progressBar.css({top:e}),progressBar.attr({max:getDistanceToScroll(),value:getCurrentScrollPosition()})}function getDistanceToScroll(){return $(document).height()-$(window).height()}function resizeProgressBar(){progressBar.css({width:getWidthPercentage()+"%"})}function getWidthPercentage(){return getCurrentScrollPosition()/getDistanceToScroll()*100}const progressBar=$("#progress");window.onload=function(){setTimeout(progressBarSetup,50)};</script> </body> </html>